{"ast":null,"code":"var _jsxFileName = \"/Users/alexalexdidit/Documents/Code/welbex-blog/frontend/src/Field.js\";\nimport { Component, useState } from 'react';\nimport { Card, Form, Button } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Field extends Component {\n  constructor(props) {\n    super(props);\n    this.handleSubmit = async event => {\n      event.preventDefault();\n      const {\n        message\n      } = this.state;\n      const postData = {\n        message: message\n      };\n      try {\n        if (message) {\n          const response = await fetch(`http://127.0.0.1:3010/api/createpost`, {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: `Bearer ${sessionStorage.getItem('token')}`\n            },\n            body: JSON.stringify(postData)\n          });\n          if (!response.ok) {\n            throw new Error(\"Network response was not ok\");\n          }\n          this.props.onChange();\n        } else {\n          // Реализация всплывающего окна (Пустое сообщение)\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    this.handleMessageChange = e => {\n      this.setState({\n        message: e.target.value\n      });\n    };\n    this.state = {\n      message: null\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(Card, {\n      className: \"my-2\",\n      bg: \"light\",\n      style: {\n        borderRadius: '25px',\n        borderColor: 'none'\n      },\n      children: /*#__PURE__*/_jsxDEV(Card.Body, {\n        style: {\n          display: 'flex',\n          flexDirection: 'column'\n        },\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'flex-end',\n            marginBottom: '10px'\n          },\n          onSubmit: this.handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"textarea\",\n            type: \"text\",\n            placeholder: \"Enter your post\",\n            onChange: this.handleMessageChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            type: \"submit\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this);\n  }\n}\nclass UpdateField extends Field {\n  constructor(props) {\n    super(props);\n    this.state = {\n      post_id: props.post_id,\n      text: props.text\n    };\n  }\n  render() {}\n}\nexport default Field;","map":{"version":3,"names":["Component","useState","Card","Form","Button","jsxDEV","_jsxDEV","Field","constructor","props","handleSubmit","event","preventDefault","message","state","postData","response","fetch","method","headers","Authorization","sessionStorage","getItem","body","JSON","stringify","ok","Error","onChange","error","console","handleMessageChange","e","setState","target","value","render","className","bg","style","borderRadius","borderColor","children","Body","display","flexDirection","justifyContent","alignItems","marginBottom","onSubmit","Control","as","type","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","variant","UpdateField","post_id","text"],"sources":["/Users/alexalexdidit/Documents/Code/welbex-blog/frontend/src/Field.js"],"sourcesContent":["import { Component, useState } from 'react';\nimport { Card, Form, Button } from 'react-bootstrap';\n\n\nclass Field extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        message: null\n      };\n    }\n  \n    handleSubmit = async (event) => {\n      event.preventDefault();\n      const { message } = this.state;\n      const postData = {\n        message: message\n      };\n      try {\n        if (message) {\n          const response = await fetch(`http://127.0.0.1:3010/api/createpost`, {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: `Bearer ${sessionStorage.getItem('token')}`,\n            },\n            body: JSON.stringify(postData),\n          });\n          if (!response.ok) {\n            throw new Error(\"Network response was not ok\");\n          }\n          this.props.onChange();\n        } else {\n          // Реализация всплывающего окна (Пустое сообщение)\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    };\n  \n    handleMessageChange = (e) => {\n      this.setState({ message: e.target.value });\n    };\n  \n    render() {\n      return (\n        <Card className=\"my-2\" bg=\"light\" style={{ borderRadius: '25px', borderColor: 'none' }}>\n          <Card.Body style={{ display: 'flex', flexDirection: 'column' }}>\n            <Form style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-end', marginBottom: '10px' }} onSubmit={this.handleSubmit}>\n              <Form.Control as=\"textarea\" type=\"text\" placeholder=\"Enter your post\" onChange={this.handleMessageChange} />\n              <Button variant=\"primary\" type=\"submit\">Submit</Button>\n            </Form>\n          </Card.Body>\n        </Card>\n      );\n    }\n  }\n\nclass UpdateField extends Field {\n    constructor(props) {\n        super(props);\n        this.state = {\n            post_id: props.post_id,\n            text: props.text\n        }\n    }\n    render() {\n\n    }\n}\n\nexport default Field;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}